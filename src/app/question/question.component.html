<!--
<div class="chat-container">
    <div class="input-container">
      <div class="editor-header">Add your questions</div>
      <div class="toolbar">
        <div class="toolbar-left">
        <button class="toolbar-btn bold">B</button>
        <button class="toolbar-btn italic">I</button>
        <button class="toolbar-btn underline">U</button>
        <button class="toolbar-btn">X<sup>2</sup></button>
        <button class="toolbar-btn">X<sub>2</sub></button>
      </div>
      <div class="toolbar-right">
        <span class="import-label">Import file</span>
        <button class="menu-btn">:</button>
      </div>
    </div>
   
      <div class="textarea-container">
        <textarea placeholder="Type your question here" class="message-input"></textarea>
      </div>
      <div class="action-bar">
        <label class="action-btn">- Mark: <span class="required">*</span>
        </label>
        <div class="input-value-container">
          <input type="text" class="input-value" >
        </div>
       
      </div>
    </div>
  </div>
 sssssssssssssssssssssssssssssssssssssss
  <div class="main-content">
    <h2>Question</h2>
    
    <div class="question-editor">
      <div class="question-box">
        <div class="editor-toolbar">
          <button class="toolbar-btn bold">B</button>
          <button class="toolbar-btn italic">I</button>
          <button class="toolbar-btn underline">U</button>
          <button class="toolbar-btn">X<sup>2</sup></button>
          <button class="toolbar-btn">X<sub>2</sub></button>
        </div>
        
        <div class="question-input" contenteditable="true">
          <div class="bullet-point">-</div>
          <div>Type your question here</div>
        </div>
        
        <div class="import-section">

          <div class="import-dropdown">
            <div class="import-option"> Image</div>
            <div class="import-option"> Video</div>
            <div class="import-option"> Audio</div>
            <div class="import-option"> Code</div>
          </div>
          <div class="file-preview hidden" id="filePreview">          Import File <span class="dropdown-icon"></span></div>
          Import File <span class="dropdown-icon"></span>
       
 
  <input type="file" id="fileInput" class="hidden" accept="image/*,video/*,audio/*,.txt,.js,.html,.css,.py,.java">

        </div>
      </div>
      
      <div class="mark-section">
        <label>Mark *</label>
        <input type="number" class="mark-input" min="0" value="0" step="0.5">
      </div>
      
      <div class="answer-section">
        <label>Answer *</label>
        <div class="answer-input" contenteditable="true"></div>
        
        <div class="answer-types">
          <button class="answer-type-btn selected" data-type="text">Text</button>
          <button class="answer-type-btn" data-type="multiple">Multiple Choice</button>
          <button class="answer-type-btn" data-type="single">Single Choice</button>
          <button class="answer-type-btn" data-type="image">Image</button>
          <button class="answer-type-btn" data-type="audio">Audio</button>
          <button class="answer-type-btn" data-type="video">Video</button>
          <button class="answer-type-btn" data-type="code">Code</button>
          <button class="answer-type-btn" data-type="camera">Camera</button>
        </div>
        <div class="file-preview hidden" id="filePreview"></div>
  
       
        <input type="file" id="fileInput" class="hidden" accept="image/*,video/*,audio/*,.txt,.js,.html,.css,.py,.java">
      
      </div>
      
      <div class="action-buttons">
        <button class="add-btn">Add Question</button>
        <button class="save-btn">Save</button>
      </div>
    </div>
  </div>
   -->
  <!-- Fichier: exam-creation.component.html -->
<!-- Fichier: exam-creation.component.html -->

<div class="exam-creation-container">

  <div class="panel">
    
    
    <form (ngSubmit)="onSubmit()">
      <!-- Informations générales de l'examen -->
    
     
      
      <!-- Ajout de questions -->
      <div class="question-section">
        <h3>Ajout de questions :</h3>
        
        <div class="add-question-buttons">
          <button type="button" class="btn btn-primary" (click)="addQuestion('question directe')">+ Question directe</button>
          <button type="button" class="btn btn-primary" (click)="addQuestion('QCM')">+ QCM</button>
        </div>
        
        <!-- Liste des questions -->
        <div formArrayName="questions">
          <div *ngFor="let question of questions.controls; let i = index" class="question-card" [formGroupName]="i">
            <div class="question-header">
              <h4>Question {{i + 1}} - {{question.get('type')?.value}}</h4>
              <button type="button" class="btn-close" (click)="removeQuestion(i)" title="Supprimer cette question"></button>
            </div>
            
            <div class="form-group">
              <label>Énoncé</label>
              <textarea formControlName="statement" class="form-control"></textarea>
            </div>
            
            <div class="form-group">
              <label>Média (optionnel)</label>
              <div class="media-selector">
                <select formControlName="mediaType" class="form-control">
                  <option value="none">Aucun</option>
                  <option *ngFor="let type of mediaTypes" [value]="type">{{type}}</option>
                </select>
                <input type="file" *ngIf="question.get('mediaType')?.value !== 'none'" class="form-control">
              </div>
            </div>
            
            <!-- Options spécifiques pour question directe -->
            <div *ngIf="question.get('type')?.value === 'question directe'" class="direct-question">
              <div class="form-group">
                <label>Réponse attendue</label>
                <input type="text" formControlName="answer" class="form-control">
              </div>

            </div>
            
            <!-- Options spécifiques pour QCM -->
            <div *ngIf="question.get('type')?.value === 'QCM'" class="qcm-options">
              <label>Options</label>
              
              <div formArrayName="options">
                <div *ngFor="let option of getOptionsFromQuestion(i).controls; let j = index" [formGroupName]="j" class="option-row">
                  <input type="checkbox" formControlName="isCorrect">
                  <input type="text" formControlName="text" class="form-control" placeholder="Option {{j + 1}}">
                  <button type="button" class="btn-close" (click)="removeOption(i, j)" *ngIf="getOptionsFromQuestion(i).length > 2"></button>
                </div>
              </div>
              
              <button type="button" class="btn btn-sm" (click)="addOption(i)">+ Ajouter une option</button>
            </div>
            
            <!-- Paramètres communs pour toutes les questions -->
            <div class="question-settings">
              <div class="form-group">
                <label>Note</label>
                <input type="number" formControlName="grade" class="form-control" min="0">
              </div>
              
              <div class="form-group">
                <label>Durée (secondes)</label>
                <input type="number" formControlName="duration" class="form-control" min="1">
              </div>
            </div>
          </div>
        </div>
        
        <div *ngIf="questions.length === 0" class="no-questions">
          Aucune question ajoutée. Utilisez les boutons ci-dessus pour ajouter des questions.
        </div>
      </div>
      
      <!-- Boutons d'action -->
      <div class="action-buttons">
        <button type="button" class="btn btn-secondary">Annuler</button>
        <button type="submit" class="btn btn-success">Créer l'examen</button>
      </div>
    </form>
  </div>
</div>